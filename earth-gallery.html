<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <meta name="author" content="JPKrishna28" />
    <meta name="last-modified" content="2025-10-04 07:44:39 UTC" />
    <title>Interactive Earth Model</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Roboto", sans-serif;
      }

      body {
        width: 100vw;
        height: 100vh;
        overflow: hidden;
        background: linear-gradient(135deg, #051937 0%, #004d7a 100%);
        position: relative;
      }

      .model-container {
        width: 100%;
        height: 100%;
        position: relative;
      }

      iframe {
        width: 100%;
        height: 100%;
        border: none;
      }

      .session-info {
        position: fixed;
        top: 20px;
        right: 20px;
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 15px;
        border-radius: 15px;
        font-size: 14px;
        z-index: 100;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      .user-info {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 8px;
      }

      .user-avatar {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background: #1caad9;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 16px;
        color: white;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      }

      .narration-controls {
        position: fixed;
        left: 50%;
        bottom: 20px;
        transform: translateX(-50%);
        background: rgba(0, 0, 0, 0.8);
        padding: 15px 25px;
        border-radius: 30px;
        z-index: 100;
        display: flex;
        gap: 10px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .narration-button {
        padding: 12px 20px;
        background: #1caad9;
        color: white;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        font-weight: 500;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .narration-button:hover {
        background: #158db6;
        transform: translateY(-2px);
      }

      .info-panel {
        position: fixed;
        right: 20px;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 20px;
        border-radius: 15px;
        max-width: 300px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        display: none;
        z-index: 100;
      }

      .info-panel h3 {
        color: #1caad9;
        margin-bottom: 10px;
      }

      .info-panel p {
        font-size: 14px;
        line-height: 1.5;
      }

      #credits {
        position: fixed;
        bottom: 80px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 15px 25px;
        border-radius: 20px;
        font-size: 13px;
        text-align: center;
        z-index: 99;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      #credits a {
        color: #1caad9;
        text-decoration: none;
        font-weight: 500;
        transition: color 0.3s ease;
      }

      #credits a:hover {
        color: #5bc8ee;
      }

      .vr-button {
        position: fixed;
        bottom: 160px;
        left: 50%;
        transform: translateX(-50%);
        padding: 12px 24px;
        background: linear-gradient(135deg, #1caad9 0%, #147d9f 100%);
        color: white;
        text-decoration: none;
        border-radius: 30px;
        font-weight: 500;
        box-shadow: 0 4px 15px rgba(28, 170, 217, 0.3);
        z-index: 100;
        transition: all 0.3s ease;
        border: 1px solid rgba(255, 255, 255, 0.1);
        cursor: pointer;
      }

      .vr-button:hover {
        transform: translateX(-50%) translateY(-2px);
        box-shadow: 0 6px 20px rgba(28, 170, 217, 0.4);
      }

      @media (max-width: 768px) {
        .narration-controls {
          flex-direction: column;
          bottom: 10px;
        }

        .vr-button {
          bottom: 120px;
        }
      }
    </style>
  </head>
  <body>
    <div class="session-info">
      <div class="user-info">
        <div class="user-avatar">JP</div>
        <div class="session-details">
          <div>JPKrishna28</div>
          <div class="timestamp">2025-10-04 07:44:39 UTC</div>
        </div>
      </div>
    </div>

    <div class="narration-controls">
      <button class="narration-button" onclick="speakOverview()">Overview</button>
      <button class="narration-button" onclick="speakContinents()">Continents</button>
      <button class="narration-button" onclick="speakOceans()">Oceans</button>
      <button class="narration-button" onclick="speakAtmosphere()">Atmosphere</button>
    </div>

    <button class="vr-button" onclick="toggleVR()">Enter VR Mode</button>

    <div class="info-panel" id="infoPanel">
      <h3 id="infoPanelTitle"></h3>
      <p id="infoPanelText"></p>
    </div>

    <div class="model-container">
      <iframe
        title="Earth"
        frameborder="0"
        allowfullscreen
        mozallowfullscreen="true"
        webkitallowfullscreen="true"
        allow="autoplay; fullscreen; xr-spatial-tracking"
        xr-spatial-tracking
        execution-while-out-of-viewport
        execution-while-not-rendered
        web-share
        src="https://sketchfab.com/models/41fc80d85dfd480281f21b74b2de2faa/embed?autostart=1&ui_controls=1&ui_infos=1&ui_inspector=1&ui_stop=1&ui_watermark=1&ui_watermark_link=1&ui_theme=dark"
      >
      </iframe>
    </div>

    <div id="credits">
      Model:
      <a
        href="https://sketchfab.com/3d-models/earth-41fc80d85dfd480281f21b74b2de2faa"
        target="_blank"
        >Earth</a
      >
      by
      <a href="https://sketchfab.com/shooter24994" target="_blank"
        >Akshat</a
      >
    </div>

    <script>
      const earthData = {
        overview: {
          title: "Earth Overview",
          text: "Earth is the third planet from the Sun and the only astronomical object known to harbor life. About 71% of Earth's surface is covered with water, with the remaining 29% consisting of continents and islands. Earth's atmosphere is composed primarily of nitrogen and oxygen.",
        },
        continents: {
          title: "Earth's Continents",
          text: "There are seven continents on Earth: Asia, Africa, North America, South America, Antarctica, Europe, and Australia. These continents are large landmasses separated by oceans and seas.",
        },
        oceans: {
          title: "Earth's Oceans",
          text: "Earth has five major oceans: the Pacific Ocean (the largest), Atlantic Ocean, Indian Ocean, Southern Ocean, and Arctic Ocean. These oceans contain 97% of Earth's water.",
        },
        atmosphere: {
          title: "Earth's Atmosphere",
          text: "Earth's atmosphere consists of 78% nitrogen, 21% oxygen, and small amounts of other gases. It protects life by absorbing harmful solar radiation, warming the surface through heat retention, and reducing temperature extremes between day and night.",
        },
      };

      let currentSpeech = null;

      function speak(section) {
        stopSpeaking();

        const data = earthData[section];
        const infoPanel = document.getElementById("infoPanel");
        document.getElementById("infoPanelTitle").textContent = data.title;
        document.getElementById("infoPanelText").textContent = data.text;
        infoPanel.style.display = "block";

        currentSpeech = new SpeechSynthesisUtterance(data.text);
        currentSpeech.rate = 0.9;
        currentSpeech.pitch = 1;

        currentSpeech.onend = () => {
          setTimeout(() => {
            if (!currentSpeech) {
              infoPanel.style.display = "none";
            }
          }, 3000);
        };
        window.speechSynthesis.speak(currentSpeech);
      }

      function stopSpeaking() {
        if (currentSpeech) {
          window.speechSynthesis.cancel();
          currentSpeech = null;
          document.getElementById("infoPanel").style.display = "none";
        }
      }

      function speakOverview() { speak("overview"); }
      function speakContinents() { speak("continents"); }
      function speakOceans() { speak("oceans"); }
      function speakAtmosphere() { speak("atmosphere"); }

      function toggleVR() {
        const iframe = document.querySelector('iframe');
        if (iframe.requestFullscreen) {
          iframe.requestFullscreen();
        }
      }

      // Initialize voice selection
      window.speechSynthesis.onvoiceschanged = () => {
        const voices = window.speechSynthesis.getVoices();
        const preferredVoice = voices.find(voice => 
          voice.lang === "en-US" && voice.name.includes("Female")
        ) || voices[0];

        if (preferredVoice) {
          currentSpeech = new SpeechSynthesisUtterance();
          currentSpeech.voice = preferredVoice;
          currentSpeech.rate = 0.9;
          currentSpeech.pitch = 1;
        }
      };

      // Error handling
      window.onerror = function(msg, url, lineNo, columnNo, error) {
        console.error("Error: ", {
          message: msg,
          url: url,
          line: lineNo,
          column: columnNo,
          error: error,
          time: new Date().toISOString(),
        });
        return false;
      };
    </script>
  </body>
</html>